{"version":3,"sources":["webpack:///./src/views/notifications.vue","webpack:///./src/views/notifications.vue?08d3","webpack:///./src/views/notifications.vue?7993"],"names":["class","close","isLoading","color","isEmpty","items","item","key","id","click","issue","title","labels","label","$index","sender","login","description","components","Label","Loader","Modal","props","data","computed","parseInt","this","$route","params","length","fetch","boardId","methods","$router","push","name","issueId","issueNumber","number","action","createdAgo","actionText","render","__scopeId"],"mappings":"0QAESA,MAAM,U,QACT,gCAGM,OAHDA,MAAM,SAAO,CAChB,gCAAoB,QAAdA,MAAM,S,6BAAQ,qB,aAOZA,MAAM,iB,SACIA,MAAM,S,uBAUnBA,MAAM,S,GACJA,MAAM,S,SACmBA,MAAM,U,GAQjCA,MAAM,e,SACgBA,MAAM,S,kLAhCvC,yBAsCQ,GAtCDA,MAAM,cAAY,C,6BACvB,IAMM,CANN,gCAMM,MANN,EAMM,CALJ,EAIA,gCAAwC,OAAlC,QAAK,oBAAE,EAAAC,OAAA,EAAAA,SAAA,IAAOD,MAAM,iBAGd,EAAAE,W,yBAAd,yBAAyC,G,MAAhBC,MAAM,Y,yBAC/B,gCA0BM,MA1BN,EA0BM,CAzBO,EAAAC,S,yBAAX,gCAEM,MAFN,EAAkC,qD,mEAIlC,gCAoBM,2CAnBW,EAAAC,MAARC,I,yBADT,gCAoBM,OAlBHC,IAAKD,EAAKE,GACXR,MAAM,eACL,QAAK,GAAE,EAAAS,MAAMH,I,CAEWA,EAAKI,O,yBAA9B,gCASM,MATN,EASM,CARJ,gCAA+C,MAA/C,EAA+C,6BAAzBJ,EAAKI,MAAMC,OAAK,GAC3BL,EAAKI,MAAME,Q,yBAAtB,gCAMM,MANN,EAMM,E,2BALJ,gCAIE,2CAH0BN,EAAKI,MAAME,OAAM,CAAnCC,EAAOC,K,yBADjB,yBAIE,GAFCD,MAAOA,EACPN,IAAKO,G,8GAIZ,gCAGM,MAHN,EAGM,CAFQR,EAAKS,Q,yBAAjB,gCAAqE,OAArE,EAAqE,6BAA3BT,EAAKS,OAAOC,OAAK,I,oEAAU,IACrE,6BAAG,EAAAC,YAAYX,IAAI,M,4EAed,GACbY,WAAY,CACVC,MAAA,OACAC,OAAA,OACAC,MAAA,QAEFC,MAAO,GACPC,KAAM,KAAM,IACZC,SAAU,CACRtB,UAAW,eAAI,2BACfG,MAAO,eAAI,uBACX,UAAY,OAAOoB,SAASC,KAAKC,OAAOC,OAAOpB,KAC/C,UACE,OAAQkB,KAAKxB,WAAmC,IAAtBwB,KAAKrB,MAAMwB,SAGzC,sBACQH,KAAKI,MAAM,CAAEC,QAASL,KAAKK,WAEnCC,QAAS,IACJ,eAAK,CACN,wBAEF,QACEN,KAAKO,QAAQC,KAAK,CAAEC,KAAM,QAAS3B,GAAIkB,KAAKK,WAE9C,OAAM,MAAErB,IACO,MAATA,GAEJgB,KAAKO,QAAQC,KAAK,CAChBC,KAAM,QACNP,OAAQ,CAAEQ,QAAS1B,EAAMF,GAAI6B,YAAa3B,EAAM4B,WAGpD,aAAY,OAAEvB,EAAF,MAAUL,EAAV,OAAiB6B,EAAjB,WAAyBC,IACnC,GAAc,MAAVzB,GACF,GAAIL,EACF,MAAQ,aAAYgB,KAAKe,WAAWF,MAAWC,SAGjD,GAAI9B,EAEF,MAAQ,GAAEgB,KAAKe,WAAWF,gBAAqBC,KAIrD,WAAWD,GACT,MAAe,iBAAXA,EAAoC,SACzB,iBAAXA,EAAoC,SACzB,mBAAXA,EAAsC,WAC3B,mBAAXA,EAAsC,WAC3B,qBAAXA,EAAwC,aACrC,M,UChGb,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf","file":"js/chunk-fd525486.09864842.js","sourcesContent":["<template>\n  <Modal class='right-side'>\n    <div class='header'>\n      <div class='title'>\n        <span class='icon'/>\n        Notifications\n      </div>\n      <div @click='close' class='icon close'/>\n    </div>\n\n    <Loader v-if='isLoading' color='white' />\n    <div v-else class='notifications'>\n      <div v-if='isEmpty' class='empty'>\n        There are no notifications for this board yet.\n      </div>\n\n      <div\n        v-for='item in items'\n        :key='item.id'\n        class='notification'\n        @click='click(item)'\n      >\n        <div class='issue' v-if='item.issue'>\n          <div class='title'>{{ item.issue.title }}</div>\n          <div v-if='item.issue.labels' class='labels'>\n            <Label\n              v-for='(label, $index) in item.issue.labels'\n              :label='label'\n              :key='$index'\n            />\n          </div>\n        </div>\n        <div class='description'>\n          <span v-if='item.sender' class='login'>{{ item.sender.login }}</span>\n          {{ description(item) }}\n        </div>\n      </div>\n    </div>\n\n  </Modal>\n</template>\n\n<script>\nimport Label from '@/components/board/label';\nimport Loader from '@/components/loader';\nimport Modal from '@/components/modal';\n\nimport { get, call } from 'vuex-pathify';\n\nexport default {\n  components: {\n    Label,\n    Loader,\n    Modal\n  },\n  props: {},\n  data: () => ({}),\n  computed: {\n    isLoading: get('notifications/isLoading'),\n    items: get('notifications/items'),\n    boardId() { return parseInt(this.$route.params.id); },\n    isEmpty() {\n      return !this.isLoading && this.items.length === 0;\n    }\n  },\n  async mounted() {\n    await this.fetch({ boardId: this.boardId });\n  },\n  methods: {\n    ...call([\n      'notifications/fetch'\n    ]),\n    close() {\n      this.$router.push({ name: 'board', id: this.boardId });\n    },\n    click({ issue }) {\n      if (issue == null) { return; }\n\n      this.$router.push({\n        name: 'issue',\n        params: { issueId: issue.id, issueNumber: issue.number }\n      });\n    },\n    description({ sender, issue, action, createdAgo }) {\n      if (sender == null) {\n        if (issue) {\n          return `Issue was ${this.actionText(action)} ${createdAgo}`;\n        }\n      } else {\n        if (issue) {\n          // return `${this.actionText(action)} #${issue.number} ${createdAgo}`;\n          return `${this.actionText(action)} the issue ${createdAgo}`;\n        }\n      }\n    },\n    actionText(action) {\n      if (action === 'issue_opened') { return 'opened'; }\n      if (action === 'issue_closed') { return 'closed'; }\n      if (action === 'issue_reopened') { return 'reopened'; }\n      if (action === 'issue_archived') { return 'archived'; }\n      if (action === 'issue_unarchived') { return 'unarchived'; }\n      return '';\n    }\n  }\n}\n</script>\n\n<style scoped lang='sass'>\n.header\n  color: #fff\n  font-size: 16px\n  font-weight: 500\n  height: 36px\n  margin: 0px 8px 0 6px\n  display: flex\n  align-items: center\n  justify-content: space-between\n\n  .icon\n    background-image: url('../assets/icons/menu/bell.svg')\n    background-position: center\n    background-repeat: no-repeat\n    display: inline-block\n    height: 28px\n    width: 28px\n\n  .title\n    display: flex\n    align-items: center\n\n    .icon\n      margin-right: 4px\n\n  .close\n    background-image: url('../assets/icons/menu/x-white.svg')\n    border-radius: 4px\n    cursor: pointer\n\n    &:hover\n      background-color: #5c6bc0\n\n    &:active\n      background-color: #303f9f\n\n.notifications\n  box-sizing: border-box\n  height: calc(100vh - 36px)\n  overflow-y: scroll\n  padding: 0 12px\n\n  .empty\n    color: #fff\n    text-align: center\n    margin-top: 40%\n\n  .notification\n    background-color: #fff\n    border-radius: 3px\n    margin-bottom: 8px\n    padding: 8px\n    cursor: pointer\n\n    &:hover\n      background-color: #e8eaf6\n\n    &:active\n      background-color: #c5cae9\n\n    .issue\n      .title\n        color: #212121\n        font-size: 15px\n        font-weight: 500\n        line-height: 18px\n        word-break: break-word\n\n      .label\n        margin: 3px 6px 3px 0\n\n    .description\n      color: #303f9f\n      font-size: 12px\n      margin-top: 4px\n\n      .login\n        font-weight: 500\n\n.right-side\n  background-color: #283593\n  border-radius: 0\n  box-shadow: none\n  min-height: 100vh\n</style>\n","import { render } from \"./notifications.vue?vue&type=template&id=27173c47&scoped=true\"\nimport script from \"./notifications.vue?vue&type=script&lang=js\"\nexport * from \"./notifications.vue?vue&type=script&lang=js\"\n\nimport \"./notifications.vue?vue&type=style&index=0&id=27173c47&scoped=true&lang=sass\"\nscript.render = render\nscript.__scopeId = \"data-v-27173c47\"\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./notifications.vue?vue&type=style&index=0&id=27173c47&scoped=true&lang=sass\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./notifications.vue?vue&type=style&index=0&id=27173c47&scoped=true&lang=sass\""],"sourceRoot":""}